#!/bin/sh

PROJECT_DIR=$(cd `dirname $0` && pwd)/..

if [ `which uname` ]; then
    case "`uname -a`" in
        CYGWIN*)
            CYGWIN=1 ;;
    esac
fi

PHPRC="${PROJECT_DIR}/etc/php.ini"
PHP_INCLUDE_PATH="${PROJECT_DIR}/lib"

if [ -n "${CYGWIN}" ] ; then
    PHPRC="`cygpath -w -l -a -- "${PHPRC}"`"
    PHP_INCLUDE_PATH="`cygpath -w -l -a -- "${PHP_INCLUDE_PATH}"`"
fi

PHP_EXE="`which php-cli 2>/dev/null`"
if [ ! -x "${PHP_EXE}" ]; then
    PHP_EXE="`which php 2>/dev/null`"
fi
if [ ! -x "${PHP_EXE}" ]; then
    echo "Sorry but can't find php."; exit 1
fi

"${PHP_EXE}" -c "${PHPRC}" -d include_path="${PHP_INCLUDE_PATH}" "$@"

# EOF
