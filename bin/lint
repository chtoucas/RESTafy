#!/bin/sh

PROJECT_DIR=$(cd `dirname $0` && pwd)/..

if [ `which uname` ]; then
    case "`uname -a`" in
        CYGWIN*)
            CYGWIN=1 ;;
    esac
fi

PHPRC="${PROJECT_DIR}/etc/php.ini"

if [ -n "${CYGWIN}" ] ; then
    PHPRC="`cygpath -w -a -- "${PHPRC}"`"
fi

PHP_EXE="`which php-cli 2>/dev/null`"
if [ ! -x "${PHP_EXE}" ]; then
    PHP_EXE="`which php 2>/dev/null`"
fi
if [ ! -x "${PHP_EXE}" ]; then
    echo "Sorry but can't find php."; exit 1
fi

for currfile in `find . -name "*.php" -print`
do
    "${PHP_EXE}" -l $currfile
done

# EOF
